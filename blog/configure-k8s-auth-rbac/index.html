<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=light data-auto-appearance=true><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#FFFFFF"><title>Configuring RBAC Role Bindings for a User on Kubernetes &#183; ZawZaw.blog</title><meta name=title content="Configuring RBAC Role Bindings for a User on Kubernetes &#183; ZawZaw.blog"><script type=text/javascript src=/js/appearance.min.8a082f81b27f3cb2ee528df0b0bdc39787034cf2cc34d4669fbc9977c929023c.js integrity="sha256-iggvgbJ/PLLuUo3wsL3Dl4cDTPLMNNRmn7yZd8kpAjw="></script><link type=text/css rel=stylesheet href=/css/main.bundle.min.f5ac7a299bb9980e665c3def1b9fd6e65af376c0d9ba9efb23282b3115ae9cf0.css integrity="sha256-9ax6KZu5mA5mXD3vG5/W5lrzdsDZup77IygrMRWunPA="><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.c40f56f7e09883dd391543c15192a207f8c2ecc2089520ef89af55a74631f70e.js integrity="sha256-xA9W9+CYg905FUPBUZKiB/jC7MIIlSDvia9Vp0Yx9w4=" data-copy=Copy data-copied=Copied></script><meta name=description content="
      
        
      
    "><link rel=canonical href=/blog/configure-k8s-auth-rbac/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:url" content="/blog/configure-k8s-auth-rbac/"><meta property="og:site_name" content="ZawZaw.blog"><meta property="og:title" content="Configuring RBAC Role Bindings for a User on Kubernetes"><meta property="og:description" content="From Fundamentals to Deep Dives: SRE, Linux Internals, Container technology & networking, and Kubernetes."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2024-12-05T00:00:00+00:00"><meta property="article:modified_time" content="2024-12-05T00:00:00+00:00"><meta property="article:tag" content="Kubernetes"><meta property="article:tag" content="Rbac"><meta property="og:image" content="/blog/configure-k8s-auth-rbac/feature.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/blog/configure-k8s-auth-rbac/feature.jpg"><meta name=twitter:title content="Configuring RBAC Role Bindings for a User on Kubernetes"><meta name=twitter:description content="From Fundamentals to Deep Dives: SRE, Linux Internals, Container technology & networking, and Kubernetes."><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","articleSection":"BLOG","name":"Configuring RBAC Role Bindings for a User on Kubernetes","headline":"Configuring RBAC Role Bindings for a User on Kubernetes","inLanguage":"en","url":"\/blog\/configure-k8s-auth-rbac\/","author":{"@type":"Person","name":"Zaw Zaw"},"copyrightYear":"2024","dateCreated":"2024-12-05T00:00:00\u002b00:00","datePublished":"2024-12-05T00:00:00\u002b00:00","dateModified":"2024-12-05T00:00:00\u002b00:00","keywords":["kubernetes","rbac"],"mainEntityOfPage":"true","wordCount":"2266"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"/","name":"Welcome to Zaw Zaw.blog","position":1},{"@type":"ListItem","item":"/blog/","name":"Blog","position":2},{"@type":"ListItem","name":"Configuring Rbac Role Bindings for a User on Kubernetes","position":3}]}</script><meta name=author content="Zaw Zaw"><link href=mailto:zawzthein@outlook.com rel=me><link href=https://newsletter.zawzaw.blog rel=me><link href=https://github.com/thezawzaw rel=me><link href=https://www.linkedin.com/in/thezawzaw rel=me><link href=https://www.instagram.com/thezawzaw rel=me><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel=stylesheet></head><body class="m-auto flex h-screen max-w-7xl flex-col bg-neutral px-6 text-lg leading-7 text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="-translate-y-8 rounded-b-lg bg-primary-200 px-3 py-1 text-sm focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="pe-2 font-bold text-primary-600 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="py-6 font-semibold text-neutral-900 dark:text-neutral sm:py-10 print:hidden"><nav class="flex items-start justify-between sm:items-center"><div class="z-40 flex flex-row items-center"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/>ZawZaw.blog</a></div><label id=menu-button for=menu-controller class="block sm:hidden"><input type=checkbox id=menu-controller class=hidden><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper class="invisible fixed inset-0 z-30 m-auto h-full w-full cursor-default overflow-auto bg-neutral-100/50 opacity-0 backdrop-blur-sm transition-opacity dark:bg-neutral-900/50"><ul class="mx-auto flex w-full max-w-7xl list-none flex-col overflow-visible px-6 py-6 text-end sm:px-14 sm:py-10 sm:pt-10 md:px-24 lg:px-32"><li class=mb-1><span class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class="group mb-1"><a href=/blog/ title=BLOG onclick=close_menu()><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Blog</span></a></li><li class="group mb-1"><a href=/guides/ title=GUIDES onclick=close_menu()><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Guides</span></a></li><li class="group mb-1"><a href=/tags/ title=TOPICS onclick=close_menu()><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Topics</span></a></li><li class="group mb-1"><a href=/photography/ title=PHOTOGRAPHY onclick=close_menu()><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Photography</span></a></li><li class="group mb-1"><a href=https://newsletter.zawzaw.blog/ title onclick=close_menu()><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Newsletter</span></a></li><li class="group mb-1"><a href=/about/ title=ABOUT onclick=close_menu()><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">About</span></a></li><li class="group mb-1"><a href=https://www.linkedin.com/newsletters/the-container-stack-7401648894910349313 title onclick=close_menu() target=_blank><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg></span></span></a></li><li class="group mb-1"><a href=https://github.com/thezawzaw title onclick=close_menu() target=_blank><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></span></a></li><li class="group mb-1"><button id=search-button-1 title="Search (/)">
<span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span></button></li></ul></div></label><ul class="hidden list-none flex-row text-end sm:flex"><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/blog/ title=BLOG><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Blog</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/guides/ title=GUIDES><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Guides</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/tags/ title=TOPICS><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Topics</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/photography/ title=PHOTOGRAPHY><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Photography</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=https://newsletter.zawzaw.blog/ title><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Newsletter</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/about/ title=ABOUT><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">About</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=https://www.linkedin.com/newsletters/the-container-stack-7401648894910349313 title target=_blank><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg></span></span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=https://github.com/thezawzaw title target=_blank><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><button id=search-button-2 title="Search (/)">
<span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span></button></li></ul></nav></header><div class="relative flex grow flex-col"><main id=main-content class=grow><article><header class=max-w-prose><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class="hidden inline"><a class="dark:underline-neutral-600 decoration-neutral-300 hover:underline" href=/>Welcome to ZawZaw.blog</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="dark:underline-neutral-600 decoration-neutral-300 hover:underline" href=/blog/>BLOG</a><span class="px-1 text-primary-500">/</span></li><li class="hidden inline"><a class="dark:underline-neutral-600 decoration-neutral-300 hover:underline" href=/blog/configure-k8s-auth-rbac/>Configuring RBAC Role Bindings for a User on Kubernetes</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mb-8 mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Configuring RBAC Role Bindings for a User on Kubernetes</h1><div class="mb-10 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2024-12-05 00:00:00 +0000 UTC">5 December 2024</time><span class="px-2 text-primary-500">&#183;</span><span>2266 words</span><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">11 mins</span><span class="px-2 text-primary-500">&#183;</span>
<span class=mb-[2px]><a href=https://github.com/thezawzaw/thezawzaw.github.io/tree/main/content/blog/2024-12-05-configure-k8s-auth-rbac/index.md class="text-lg hover:text-primary-500" rel="noopener noreferrer" target=_blank title="Edit content"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M490.3 40.4c21.9 21.87 21.9 57.33.0 79.2l-30 30.1-98-97.98 30.1-30.06C414.3-.2135 449.7-.2135 471.6 21.66L490.3 40.4zM172.4 241.7 339.7 74.34l98 97.96L270.3 339.6C264.2 345.8 256.7 350.4 248.4 353.2l-88.8 29.6C150.1 385.6 141.5 383.4 135 376.1 128.6 370.5 126.4 361 129.2 352.4l29.6-88.8C161.6 255.3 166.2 247.8 172.4 241.7v0zM192 63.1c17.7.0 32 15.23 32 32 0 18.6-14.3 32-32 32H96c-17.67.0-32 15.2-32 32V416c0 17.7 14.33 32 32 32H352c17.7.0 32-14.3 32-32V319.1c0-16.8 14.3-32 32-32s32 15.2 32 32V416c0 53-43 96-96 96H96c-53.02.0-96-43-96-96V159.1c0-53 42.98-96 96-96h96z"/></svg></span></a></span></div><div class="my-1 flex flex-wrap text-xs leading-relaxed text-neutral-500 dark:text-neutral-400"><a href=/tags/kubernetes/ class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">Kubernetes</a>
<a href=/tags/rbac/ class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">Rbac</a></div></div><div class=prose><picture class="mb-6 rounded-md"><source srcset="/blog/configure-k8s-auth-rbac/feature_hu_7bf70acafacc9c87.webp 330w,/blog/configure-k8s-auth-rbac/feature_hu_59351a4689e96cf7.webp 660w
,/blog/configure-k8s-auth-rbac/feature_hu_c023a6e660c4ac65.webp 1024w
,/blog/configure-k8s-auth-rbac/feature_hu_da6cea57bfb1eb26.webp 1320w" sizes=100vw type=image/webp><img width=7680 height=4320 class="mb-6 rounded-md" src=/blog/configure-k8s-auth-rbac/feature_hu_b5eded4898d47717.jpg srcset="/blog/configure-k8s-auth-rbac/feature_hu_119c8b9f240b4e99.jpg 330w,/blog/configure-k8s-auth-rbac/feature_hu_b5eded4898d47717.jpg 660w
,/blog/configure-k8s-auth-rbac/feature_hu_c7b6fe37543b3b9a.jpg 1024w
,/blog/configure-k8s-auth-rbac/feature_hu_5a7f33b4e534467a.jpg 1320w" sizes=100vw></picture><figcaption class="-mt-3 mb-6 text-center">Photo by Growtika on Unsplash</figcaption></div></header><section class="prose mt-0 flex max-w-full flex-col dark:prose-invert lg:flex-row"><div class="order-first px-0 lg:order-last lg:max-w-xs lg:ps-8"><div class="toc pe-5 lg:sticky lg:top-10 print:hidden"><details open class="-ms-5 mt-0 overflow-hidden rounded-lg ps-5"><summary class="block cursor-pointer bg-neutral-100 py-1 ps-5 text-lg font-semibold text-neutral-800 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="border-s border-dotted border-neutral-300 py-2 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#use-case>Use Case</a></li><li><a href=#summary-objectives>Summary: Objectives</a></li><li><a href=#before-we-begin>Before We Begin</a></li><li><a href=#creating-a-user-with-rbac-bindings>Creating a User with RBAC Bindings</a></li><li><a href=#understanding-the-rbac-configuration>Understanding the RBAC Configuration</a></li><li><a href=#generating-a-serviceaccount-token>Generating a ServiceAccount Token</a></li><li><a href=#deploying-kubernetes-dashboard-ui>Deploying Kubernetes Dashboard UI</a></li><li><a href=#using-serviceaccount-tokens>Using ServiceAccount Tokens</a><ul><li><a href=#serviceaccount-token-only>ServiceAccount Token (Only)</a></li><li><a href=#kubeconfig-with-serviceaccount-token>Kubeconfig with ServiceAccount Token</a></li></ul></li><li><a href=#demo-testing-configured-rbac-bindings>Demo: Testing Configured RBAC Bindings</a><ul><li><a href=#listing-pods-from-all-namespaces>Listing Pods from All Namespaces</a></li><li><a href=#deleting-or-restarting-pods>Deleting or Restarting Pods</a></li><li><a href=#listing-and-viewing-secrets>Listing and Viewing Secrets</a></li></ul></li></ul></nav></div></details></div></div><div class="min-h-0 min-w-0 max-w-prose grow"><p>This article focuses on how to create a user and configure cluster roles and role bindings for that user using Kubernetes built-in RBAC authorization features. Basically, in Kubernetes, we can use the service account as a user, but it is like a non-human user.</p><p>Generally, every Kubernetes cluster has the default admin <em>kubeconfig</em> file. We usually use this admin <em>kubeconfig</em> file to log in to, access, and manage the Kubernetes cluster. We can generate a service account token and assign this service account or user to a specific cluster role, and then configure the <em>kubeconfig</em> file with its token and give access to the user.</p><p>Then, a user or developer can log in to and access the Kubernetes cluster with the token or kubeconfig file using the <a href=https://github.com/kubernetes/dashboard target=_blank rel=noreferrer>Kubernetes Dashboard</a> (or) the <a href=https://kubernetes.io/docs/tasks/tools/install-kubectl-linux target=_blank rel=noreferrer>kubectl</a> command-line tool.</p><h2 id=use-case class="relative group">Use Case <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#use-case aria-label=Anchor>#</a></span></h2><blockquote><p>Working with the team and want to give access to a user or developer with specific permissions on the Kubernetes cluster. For example, if you want to give access to a user with read-only access permissions.</p></blockquote><h2 id=summary-objectives class="relative group">Summary: Objectives <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#summary-objectives aria-label=Anchor>#</a></span></h2><p><em>What you&rsquo;ll learn in this article:</em></p><ul><li><p>Explore built-in RBAC authorization features on Kubernetes.</p></li><li><p>How to configure a service account, cluster roles and role bindings.</p></li><li><p>Learn a deep dive into RBAC verbs and how to grant permissions to a user.</p></li><li><p>How to generate a service account token for the user and use it in the <em>kubeconfig</em> file to access the Kubernetes cluster.</p></li></ul><h2 id=before-we-begin class="relative group">Before We Begin <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#before-we-begin aria-label=Anchor>#</a></span></h2><p>Make sure you have installed the following tools.</p><ul><li>Kubernetes Cluster</li><li>The <a href=https://kubernetes.io/docs/tasks/tools/install-kubectl-linux target=_blank rel=noreferrer>kubectl</a> command-line tool (or) <a href=https://github.com/kubernetes/dashboard target=_blank rel=noreferrer>Kubernetes Dashboard</a></li></ul><h2 id=creating-a-user-with-rbac-bindings class="relative group">Creating a User with RBAC Bindings <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#creating-a-user-with-rbac-bindings aria-label=Anchor>#</a></span></h2><p>In this article, we will demonstrate how to create a service account, <em>charlie</em> with <strong>engineer</strong> role that has read-only permissions to access all resources on the Kubernetes cluster, except from Secrets resources.</p><p>Create a YAML file named <code>k8s-user-charlie.yaml</code> that includes and configures <em>ServiceAccount</em>, <em>ClusterRole</em>, and <em>ClusterRoleBinding</em> resources.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ServiceAccount</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>charlie</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>kube-system</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>rbac.authorization.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ClusterRole</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>engineer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>verbs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>get</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>watch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>apiGroups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s1>&#39;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>configmaps</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>endpoints</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>persistentvolumeclaims</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>pods</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>replicationcontrollers</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>replicationcontrollers/scale</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>services</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>nodes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>persistentvolumeclaims</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>persistentvolumes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>verbs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>get</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>watch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>apiGroups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s1>&#39;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>bindings</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>events</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>limitranges</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>namespaces/status</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>pods/log</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>pods/status</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>replicationcontrollers/status</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>resourcequotas</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>resourcequotas/status</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>verbs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>get</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>watch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>apiGroups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s1>&#39;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>namespaces</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>verbs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>get</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>watch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>apiGroups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>apps</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>daemonsets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>deployments</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>deployments/scale</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>replicasets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>replicasets/scale</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>statefulsets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>verbs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>get</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>watch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>apiGroups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>autoscaling</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>horizontalpodautoscalers</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>verbs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>get</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>watch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>apiGroups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>batch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>cronjobs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>jobs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>verbs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>get</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>watch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>apiGroups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>extensions</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>daemonsets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>deployments</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>deployments/scale</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>ingresses</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>networkpolicies</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>replicasets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>replicasets/scale</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>replicationcontrollers/scale</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>verbs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>get</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>watch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>apiGroups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>policy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>poddisruptionbudgets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>verbs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>get</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>watch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>apiGroups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>networking.k8s.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>networkpolicies</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>ingresses</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>verbs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>get</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>watch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>apiGroups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>storage.k8s.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>storageclasses</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>volumeattachments</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>rbac.authorization.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ClusterRoleBinding</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>rolebinding-charlie</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>roleRef</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>apiGroup</span><span class=p>:</span><span class=w> </span><span class=l>rbac.authorization.k8s.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ClusterRole</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>engineer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>subjects</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ServiceAccount</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>charlie</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>kube-system</span><span class=w>
</span></span></span></code></pre></div><p>After configuring RBAC bindings in the <code>k8s-user-charlie.yaml</code> YAML file, deploy it with the <code>kubectl</code> command-line tool on the Kubernetes cluster.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ kubect apply -f k8s-user-charlie.yaml
</span></span></code></pre></div><p>Output:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>serviceaccount/charlie created
</span></span><span class=line><span class=cl>clusterrole.rbac.authorization.k8s.io/engineer created
</span></span><span class=line><span class=cl>clusterrolebinding.rbac.authorization.k8s.io/rolebinding-charlie created
</span></span></code></pre></div><p>In the above RBAC configuration, the <em>engineer</em> <code>ClusterRole</code> specifies a set of permissions to access all resources of Kubernetes, except from Secrets, and then the <code>ClusterRoleBinding</code> assigned a <code>ServiceAccount</code> user <em>charlie</em> to the <em>engineer</em> role.</p><p>Learn more about the detailed information on the RBAC configuration in the next section.</p><h2 id=understanding-the-rbac-configuration class="relative group">Understanding the RBAC Configuration <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#understanding-the-rbac-configuration aria-label=Anchor>#</a></span></h2><p><code>ServiceAccount</code> Creates a user for login and access the Kubernetes cluster.</p><p><code>ClusterRole</code> Specifies rules that represent a set of permissions.</p><ul><li><p><code>verbs</code> Specifies permissions to access Kubernetes resources. For example, <em>get</em>, <em>list</em>, <em>watch</em>, <em>patch</em> and etc..</p><ul><li><p><code>get</code> - Read individual resources or objects, like viewing pod details.</p></li><li><p><code>list</code> - List multiple resources of a certain type, like listing all pods in a namespace.</p></li><li><p><code>watch</code> - Observe resources for real-time updates, often used by controllers to track changes. For example, <em>kubectl get configmap &ndash;watch.</em></p></li><li><p><code>create</code> - Create a new resource or object, like creating a new pod or deployment or service. For example, <em>kubectl apply -f deployment.yaml.</em></p></li><li><p><code>delete</code> - Remove individual resources, like deleting a specific pod.</p></li><li><p><code>update</code> - Update the entire object. An update operation replaces the entire resource specification. It overwrites the existing object with the new specification. For example, <em>kubectl apply -f deployment.yaml.</em></p></li><li><p><code>patch</code> - Apply a partial update to a resource. A patch operation modifies specific fields selectively without affecting the rest of the object.</p><p>For example, <code>kubectl patch deployment nginx-server -p '{"spec": {"template": {"spec": {"containers": [{"name": "nginx", "image": "nginx:v2"}]}}}}')</code></p></li></ul></li><li><p><code>apiGroups</code> Specifies Kubernetes API groups. For example, <em>Deployment</em> is included in the <em>apps</em> API group.</p><p>To get Kubernetes API groups, run the <code>kubectl api-resources</code> command. Check the <code>APIVERSION</code> column and format is <code>&lt;api-group/version></code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl> $ kubectl api-resources
</span></span><span class=line><span class=cl> NAME                              SHORTNAMES                  APIVERSION                        NAMESPACED   KIND
</span></span><span class=line><span class=cl> configmaps                        cm                          v1                                <span class=nb>true</span>         ConfigMap
</span></span><span class=line><span class=cl> namespaces                        ns                          v1                                <span class=nb>false</span>        Namespace
</span></span><span class=line><span class=cl> pods                              po                          v1                                <span class=nb>true</span>         Pod
</span></span><span class=line><span class=cl> secrets                                                       v1                                <span class=nb>true</span>         Secret
</span></span><span class=line><span class=cl> services                          svc                         v1                                <span class=nb>true</span>         Service
</span></span><span class=line><span class=cl> daemonsets                        ds                          apps/v1                           <span class=nb>true</span>         DaemonSet
</span></span><span class=line><span class=cl> deployments                       deploy                      apps/v1                           <span class=nb>true</span>         Deployment
</span></span><span class=line><span class=cl> replicasets                       rs                          apps/v1                           <span class=nb>true</span>         ReplicaSet
</span></span><span class=line><span class=cl> statefulsets                      sts                         apps/v1                           <span class=nb>true</span>         StatefulSet
</span></span></code></pre></div></li><li><p><code>resources</code> Specifies which Kubernetes resources to access to the user. Same as above api groups, run the <code>kubectl api-resources</code> command and check the resource name in the <code>NAME</code> column. For example, <em>deployment</em>, <em>services</em> and so on.</p></li></ul><p><code>ClusterRoleBinding</code> Grants the permissions defined in the ClusterRole and assigned to the ServiceAccount user.</p><ul><li><p><code>roleRef.apiGroup</code></p><ul><li>Set the API group of the cluster role (rbac.authorization.k8s.io).</li></ul></li><li><p><code>roleRef.kind</code></p><ul><li>Set the resource name of the cluster role (ClusterRole).</li></ul></li><li><p><code>roleRef.name</code></p><ul><li>Set the name of the cluster role you configured. In this article, I created an <em>engineer</em> role.</li></ul></li><li><p><code>subjects.kind</code></p><ul><li>Set the resource name of service account. (ServiceAccount)</li></ul></li><li><p><code>subjects.name</code></p><ul><li>Set the ServiceAccount name you created. In this article, it&rsquo;s <em>charlie</em>.</li></ul></li><li><p><code>subjects.namespace</code></p><ul><li>Set the namespace of your installed ServiceAccount resource. In this article, <em>kube-system</em> namespace.</li></ul></li></ul><p>Reference: <a href=https://kubernetes.io/docs/reference/access-authn-authz/rbac target=_blank rel=noreferrer>https://kubernetes.io/docs/reference/access-authn-authz/rbac</a></p><h2 id=generating-a-serviceaccount-token class="relative group">Generating a ServiceAccount Token <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#generating-a-serviceaccount-token aria-label=Anchor>#</a></span></h2><p>Previously, we have created a service account <code>charlie</code> user in the <em>kube-system</em> namespace. Next, we will create a service account token that we need to login and access the Kubernetes cluster and also need to use it in the <em>kubeconfig</em> file.</p><p>Get the service account name you deployed previously.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ kubectl get serviceaccounts --namespace kube-system
</span></span></code></pre></div><p>Output:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>NAME                                     SECRETS   AGE
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>default                                  <span class=m>0</span>         18d
</span></span><span class=line><span class=cl>svclb                                    <span class=m>0</span>         18d
</span></span><span class=line><span class=cl>k8s-admin                                <span class=m>0</span>         18d
</span></span><span class=line><span class=cl>kubernetes-dashboard-metrics-server      <span class=m>0</span>         18d
</span></span><span class=line><span class=cl>kubernetes-dashboard                     <span class=m>0</span>         18d
</span></span><span class=line><span class=cl>charlie                                  <span class=m>0</span>         21m
</span></span></code></pre></div><p>Create a service account token for the <code>charlie</code> user.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ kubectl create token charlie --duration<span class=o>=</span>8760h --output yaml --namespace kube-system
</span></span></code></pre></div><p>Output:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>authentication.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>TokenRequest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>creationTimestamp</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2024-11-25T04:13:16Z&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>charlie</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>kube-system</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>audiences</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>https://kubernetes.default.svc.cluster.local</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>k3s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>boundObjectRef</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>expirationSeconds</span><span class=p>:</span><span class=w> </span><span class=m>31536000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>status</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>expirationTimestamp</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2025-11-25T04:13:16Z&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>token</span><span class=p>:</span><span class=w> </span><span class=l>eyJhbGciOiJSUzI1NiIsImtpZCI6Ii04blMtX1BpVHBQUUNxbXMxSEI3bkxRU1ZfNkVIR09UZGNiazlaWEoyaHMifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiLCJrM3MiXSwiZXhwIjoxNzY0MDQzOTk2LCJpYXQiOjE3MzI1MDc5OTYsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsInNlcnZpY2VhY2NvdW50Ijp7Im5hbWUiOiJjaGFybGllIiwidWlkIjoiMDAxOTYyNDUtNzhiNy00NzFkLThjODAtYWFhYWMyM2I2NjJjIn19LCJuYmYiOjE3MzI1MDc5OTYsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlLXN5c3RlbTpjaGFybGllIn0.PokSrN-g4vz-9cl9d7_KuVl3UGh5q2Slww0G68uE4hrocSvrFizmCch4VkKCrzZ7anp9P3nWBvk8WVizo4nN5U_Wn3p-h7_nsvyTrJ7_FflNYS6w8fbfFVKl0vD31MVrpmj40DApkbIepnDKzKfvvNsf00zFoNyi2iB7iIgsrkpUDJyc-o-juHYSIdHwVdhlWSOxmvvq0kf0VITR5wPs5aw02GSUDt2FPxaw-wPFu-3_UrVWTJI0ZgI9D2zzuVDDTvipFn_huRTzPqJN6Q8uHT1dgfaQh86WS8ZqbHuL_oMAxhXLdRwtc07nAm-1lyV3ISjeIicqfli8PZ8IOUWDNQ</span><span class=w>
</span></span></span></code></pre></div><p>Make sure you configure <code>duration</code> when you create the service account token.</p><p>That means the token will expire based on the duration you configured. For example, I&rsquo;ve set the duration to <code>8760h</code> (365 days) and created the service account token on November 25, 2024. That token will expire on November 25, 2025.</p><h2 id=deploying-kubernetes-dashboard-ui class="relative group">Deploying Kubernetes Dashboard UI <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#deploying-kubernetes-dashboard-ui aria-label=Anchor>#</a></span></h2><p><figure><picture class="mx-auto my-0 rounded-md"><source srcset="/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard_hu_51b676a247f36427.webp 330w,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard_hu_28ed9ee7a65ade2f.webp 660w
,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard_hu_828f35b0c107d412.webp 1024w
,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard_hu_92a3262eb374f0e.webp 1320w" sizes=100vw type=image/webp><img width=1911 height=920 class="mx-auto my-0 rounded-md" alt=kubernetes-dashboard loading=lazy decoding=async src=/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard_hu_f32ef9995e987ba0.png srcset="/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard_hu_97a174fa613f876e.png 330w,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard_hu_f32ef9995e987ba0.png 660w
,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard_hu_8935b6fc18ef1c07.png 1024w
,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard_hu_5d13e05f677605bb.png 1320w" sizes=100vw></picture></figure></p><p>Before we use the service account token, make sure you deployed the <a href=https://github.com/kubernetes/dashboard target=_blank rel=noreferrer>Kubernetes Dashboard</a>, a general-purpose web UI for Kubernetes clusters. In this article, we will use the Kubernetes dashboard to manage and monitor the Kubernetes cluster.</p><p>You can use the Helm package manager to deploy the Kubernetes dashboard. Please, see <a href=https://github.com/kubernetes/dashboard/blob/master/README.md#installation target=_blank rel=noreferrer>https://github.com/kubernetes/dashboard/blob/master/README.md#installation</a>.</p><p>Add the kubernetes-dashboard Helm repository.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ helm repo add kubernetes-dashboard https://kubernetes.github.io/dashboard
</span></span></code></pre></div><p>Deploy the Kubernetes dashboard UI using the kubernetes-dashboard Helm chart.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ helm install kubernetes-dashboard <span class=se>\
</span></span></span><span class=line><span class=cl>  kubernetes-dashboard/kubernetes-dashboard <span class=se>\
</span></span></span><span class=line><span class=cl>  --create-namespace <span class=se>\
</span></span></span><span class=line><span class=cl>  --namespace kubernetes-dashboard
</span></span></code></pre></div><p>Read more configuration details on the ArtifactHub, <a href=https://artifacthub.io/packages/helm/k8s-dashboard/kubernetes-dashboard target=_blank rel=noreferrer>https://artifacthub.io/packages/helm/k8s-dashboard/kubernetes-dashboard</a></p><h2 id=using-serviceaccount-tokens class="relative group">Using ServiceAccount Tokens <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#using-serviceaccount-tokens aria-label=Anchor>#</a></span></h2><p>We have <strong>two options</strong> to log in to the Kubernetes dashboard to manage and monitor the Kubernetes cluster. You can also use the <em>kubectl</em> client tool to interact with the Kubernetes cluster.</p><ul><li>ServiceAccount Token (Only)</li><li>Kubeconfig with ServiceAccount Token</li></ul><h3 id=serviceaccount-token-only class="relative group">ServiceAccount Token (Only) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#serviceaccount-token-only aria-label=Anchor>#</a></span></h3><p>Make sure you have deployed the Kubernetes dashboard UI on the Kubernete cluster. In the previous section, we have generated the service account token. We can simply use this token to log in to the Kubernetes dashboard.</p><p>Previously, a generated service account token:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>status</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>expirationTimestamp</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2025-11-25T04:13:16Z&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>token</span><span class=p>:</span><span class=w> </span><span class=l>eyJhbGciOiJSUzI1NiIsImtpZCI6Ii04blMtX1BpVHBQUUNxbXMxSEI3bkxRU1ZfNkVIR09UZGNiazlaWEoyaHMifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiLCJrM3MiXSwiZXhwIjoxNzY0MDQzOTk2LCJpYXQiOjE3MzI1MDc5OTYsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsInNlcnZpY2VhY2NvdW50Ijp7Im5hbWUiOiJjaGFybGllIiwidWlkIjoiMDAxOTYyNDUtNzhiNy00NzFkLThjODAtYWFhYWMyM2I2NjJjIn19LCJuYmYiOjE3MzI1MDc5OTYsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlLXN5c3RlbTpjaGFybGllIn0.PokSrN-g4vz-9cl9d7_KuVl3UGh5q2Slww0G68uE4hrocSvrFizmCch4VkKCrzZ7anp9P3nWBvk8WVizo4nN5U_Wn3p-h7_nsvyTrJ7_FflNYS6w8fbfFVKl0vD31MVrpmj40DApkbIepnDKzKfvvNsf00zFoNyi2iB7iIgsrkpUDJyc-o-juHYSIdHwVdhlWSOxmvvq0kf0VITR5wPs5aw02GSUDt2FPxaw-wPFu-3_UrVWTJI0ZgI9D2zzuVDDTvipFn_huRTzPqJN6Q8uHT1dgfaQh86WS8ZqbHuL_oMAxhXLdRwtc07nAm-1lyV3ISjeIicqfli8PZ8IOUWDNQ</span><span class=w>
</span></span></span></code></pre></div><p>Go to the Kubernetes dashboard UI &ndash;> <strong>Token</strong> &ndash;> Enter token &ndash;> Sign in</p><p><figure><picture class="mx-auto my-0 rounded-md"><source srcset="/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard-login_hu_b1b81b8d7c75beec.webp 330w,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard-login_hu_c95dbba3022f4e1b.webp 660w
,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard-login_hu_943478b97911b982.webp 1024w
,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard-login_hu_6667347e36a746ee.webp 1320w" sizes=100vw type=image/webp><img width=1599 height=759 class="mx-auto my-0 rounded-md" alt=screenshot-k8s-dashboard-login loading=lazy decoding=async src=/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard-login_hu_29c9f001f2c3d191.png srcset="/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard-login_hu_a4550c615074d851.png 330w,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard-login_hu_29c9f001f2c3d191.png 660w
,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard-login_hu_5f7826890004d916.png 1024w
,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-dashboard-login_hu_235f16a2804c6c47.png 1320w" sizes=100vw></picture></figure></p><p>Then, you will see <em>system:serviceaccount:kube-system:charlie</em> service account as a logged-in user in the profile.</p><p><figure><picture class="mx-auto my-0 rounded-md"><source srcset=/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-user-charlie_hu_7210aaeda76f348e.webp sizes=100vw type=image/webp><img width=512 height=348 class="mx-auto my-0 rounded-md" alt=screenshot-user-charlie loading=lazy decoding=async src=/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-user-charlie.png></picture></figure></p><h3 id=kubeconfig-with-serviceaccount-token class="relative group">Kubeconfig with ServiceAccount Token <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#kubeconfig-with-serviceaccount-token aria-label=Anchor>#</a></span></h3><p>When you&rsquo;ve bootstrapped and setup a Kubernetes cluster, it sets a default <em>kubeconfig</em> file. But, file location depends on the Kubernetes distribution. For example, in the K3s Kubernetes distribution, the default <em>kubeconfig</em> file location is <code>/etc/rancher/k3s/k3s.yaml</code>.</p><p>We will create and clone a <em>kubeconfig</em> file named <code>kubeconfig-charlie</code> from the original K3s kubeconfig <code>/etc/rancher/k3s/k3s.yaml</code> file. Then, we will set and replace the default <em>admin</em> user with <em>Charlie</em> and its token. Then, <em>Charlie</em> can access the Kubernetes cluster as a read-only or view-only user using the <em>kubeconfig</em> file.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Config</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>clusters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl>- <span class=nt>cluster</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>certificate-authority-data</span><span class=p>:</span><span class=w> </span><span class=l>LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJkekNDQVIyZ0F3SUJBZ0lCQURBS0JnZ3Foa2pPUFFRREFqQWpNU0V3SHdZRFZRUUREQmhyTTNNdGMyVnkKZG1WeUxXTmhRREUyTmpBd05qRTFNVFV3SGhjTk1qSXdPREE1TVRZeE1UVTFXaGNOTXpJd09EQTJNVFl4TVRVMQpXakFqTVNFd0h3WURWUVFEREJock0zTXRjMlZ5ZG1WeUxXTmhRREUyTmpBd05qRTFNVFV3V1RBVEJnY3Foa2pPClBRSUJCZ2dxaGtqT1BRTUJCd05DQUFSUW1wQnBRY3lhL0dUa2FPL2JLSGNHc2tac2M0UHpaNElYc3ZQVVQzMUoKNjNVb3AxQXZ4WlhObDhoRWk1ZkxFL2s1WC8zSnNreE5aSHJmSHVoY0lKODVvMEl3UURBT0JnTlZIUThCQWY4RQpCQU1DQXFRd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFRmdRVWlJUkN0QU50VEZPR3cycEZ1ZGxQCmhZWXIzQTR3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQUtPTUVNRjVmaUxkc0JxV0lpL0k5VnNJQS9BWEVLWEUKVXhSajJYQ2szUnQ4QWlBcDQ4SFZjRytodXIvS2hZaTVnSUZ3Vk1wUGYyWHV3WE1SRk5wV09kZEZ6Zz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class=l>https://&lt;k3s_server_address&gt;:6443</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>k3s-dev-cluster</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>contexts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl>- <span class=nt>context</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>cluster</span><span class=p>:</span><span class=w> </span><span class=l>k3s-dev-cluster</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>user</span><span class=p>:</span><span class=w> </span><span class=l>charlie</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>k3s-dev-cluster</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>current-context</span><span class=p>:</span><span class=w> </span><span class=l>k3s-dev-cluster</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>preferences</span><span class=p>:</span><span class=w> </span>{}<span class=w>
</span></span></span><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>charlie</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>user</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>token</span><span class=p>:</span><span class=w> </span><span class=l>eyJhbGciOiJSUzI1NiIsImtpZCI6Ii04blMtX1BpVHBQUUNxbXMxSEI3bkxRU1ZfNkVIR09UZGNiazlaWEoyaHMifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiLCJrM3MiXSwiZXhwIjoxNzY0MDQzOTk2LCJpYXQiOjE3MzI1MDc5OTYsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsInNlcnZpY2VhY2NvdW50Ijp7Im5hbWUiOiJjaGFybGllIiwidWlkIjoiMDAxOTYyNDUtNzhiNy00NzFkLThjODAtYWFhYWMyM2I2NjJjIn19LCJuYmYiOjE3MzI1MDc5OTYsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlLXN5c3RlbTpjaGFybGllIn0.PokSrN-g4vz-9cl9d7_KuVl3UGh5q2Slww0G68uE4hrocSvrFizmCch4VkKCrzZ7anp9P3nWBvk8WVizo4nN5U_Wn3p-h7_nsvyTrJ7_FflNYS6w8fbfFVKl0vD31MVrpmj40DApkbIepnDKzKfvvNsf00zFoNyi2iB7iIgsrkpUDJyc-o-juHYSIdHwVdhlWSOxmvvq0kf0VITR5wPs5aw02GSUDt2FPxaw-wPFu-3_UrVWTJI0ZgI9D2zzuVDDTvipFn_huRTzPqJN6Q8uHT1dgfaQh86WS8ZqbHuL_oMAxhXLdRwtc07nAm-1lyV3ISjeIicqfli8PZ8IOUWDNQ</span><span class=w>
</span></span></span></code></pre></div><p>Previously, we have created a service account named <code>charlie</code> and generated its token. We will use them in the <em>kubeconfig</em> file. Make sure you set the service account <strong>user</strong> name and its <strong>token</strong> in the <em>kubeconfig-charlie</em> file like this.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>contexts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl>- <span class=nt>context</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>cluster</span><span class=p>:</span><span class=w> </span><span class=l>k3s-dev-cluster</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>user</span><span class=p>:</span><span class=w> </span><span class=l>charlie</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>k3s-dev-cluster</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nn>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>users</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>charlie</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>user</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>token</span><span class=p>:</span><span class=w> </span><span class=l>eyJhbGciOiJSUzI1NiIsImtpZCI6Ii04blMtX1BpVHBQUUNxbXMxSEI3bkxRU1ZfNkVIR09UZGNiazlaWEoyaHMifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiLCJrM3MiXSwiZXhwIjoxNzY0MDQzOTk2LCJpYXQiOjE3MzI1MDc5OTYsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsInNlcnZpY2VhY2NvdW50Ijp7Im5hbWUiOiJjaGFybGllIiwidWlkIjoiMDAxOTYyNDUtNzhiNy00NzFkLThjODAtYWFhYWMyM2I2NjJjIn19LCJuYmYiOjE3MzI1MDc5OTYsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlLXN5c3RlbTpjaGFybGllIn0.PokSrN-g4vz-9cl9d7_KuVl3UGh5q2Slww0G68uE4hrocSvrFizmCch4VkKCrzZ7anp9P3nWBvk8WVizo4nN5U_Wn3p-h7_nsvyTrJ7_FflNYS6w8fbfFVKl0vD31MVrpmj40DApkbIepnDKzKfvvNsf00zFoNyi2iB7iIgsrkpUDJyc-o-juHYSIdHwVdhlWSOxmvvq0kf0VITR5wPs5aw02GSUDt2FPxaw-wPFu-3_UrVWTJI0ZgI9D2zzuVDDTvipFn_huRTzPqJN6Q8uHT1dgfaQh86WS8ZqbHuL_oMAxhXLdRwtc07nAm-1lyV3ISjeIicqfli8PZ8IOUWDNQ</span><span class=w>
</span></span></span></code></pre></div><p>Then, you can access the Kubernetes cluster with this <em>kubeconfig</em> file using the Kubernetes dashboard or kubectl command-line tool.</p><p>To log in to the Kubernetes dashboard with the <em>kubeconfig</em> file, same as in the previous section, log in with the token.</p><p>Go to the Kubernetes dashboard &ndash;> <strong>Kubeconfig</strong> &ndash;> Choose the kubeconfig file &ndash;> Sign in</p><p><figure><picture class="mx-auto my-0 rounded-md"><source srcset="/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-kubeconfig_hu_10860499277e2203.webp 330w,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-kubeconfig_hu_a558277a6599e18d.webp 660w
,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-kubeconfig_hu_f06e3f878889c28d.webp 1024w
,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-kubeconfig_hu_6e77a3f2eeaa8934.webp 1320w" sizes=100vw type=image/webp><img width=1655 height=763 class="mx-auto my-0 rounded-md" alt=screenshot-k8s-kubeconfig loading=lazy decoding=async src=/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-kubeconfig_hu_213cfd149869316d.png srcset="/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-kubeconfig_hu_1288d2091ffee9ab.png 330w,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-kubeconfig_hu_213cfd149869316d.png 660w
,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-kubeconfig_hu_67f3d9d4d28ea151.png 1024w
,/blog/configure-k8s-auth-rbac/images/img-screenshot-k8s-kubeconfig_hu_4934f447fcb8a4b3.png 1320w" sizes=100vw></picture></figure></p><h2 id=demo-testing-configured-rbac-bindings class="relative group">Demo: Testing Configured RBAC Bindings <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#demo-testing-configured-rbac-bindings aria-label=Anchor>#</a></span></h2><p>In this section, we will demonstrate whether service account tokens with RBAC role bindings are working or not. We can use both the Kubernetes dashboard UI and the kubectl command-line tool to interact with the Kubernetes cluster.</p><h3 id=listing-pods-from-all-namespaces class="relative group">Listing Pods from All Namespaces <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#listing-pods-from-all-namespaces aria-label=Anchor>#</a></span></h3><p>Firstly, we need to set the <code>KUBECONFIG</code> environment variable to the <em>kubeconfig</em> file if you want to use the kubectl command-line tool. For example,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ <span class=nb>export</span> <span class=nv>KUBECONFIG</span><span class=o>=</span>~/.kube/kubeconfig-charlie
</span></span></code></pre></div><p>Then, we can verify the current context and cluster with kubectl.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ kubectl config view
</span></span></code></pre></div><p>Output:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>apiVersion: v1
</span></span><span class=line><span class=cl>clusters:
</span></span><span class=line><span class=cl>- cluster:
</span></span><span class=line><span class=cl>    certificate-authority-data: DATA+OMITTED
</span></span><span class=line><span class=cl>    server: https://&lt;k3s_server_address&gt;:6443
</span></span><span class=line><span class=cl>  name: k3s-dev-cluster
</span></span><span class=line><span class=cl>contexts:
</span></span><span class=line><span class=cl>- context:
</span></span><span class=line><span class=cl>    cluster: k3s-dev-cluster
</span></span><span class=line><span class=cl>    user: charlie
</span></span><span class=line><span class=cl>  name: k3s-dev-cluster
</span></span><span class=line><span class=cl>current-context: k3s-dev-cluster
</span></span><span class=line><span class=cl>kind: Config
</span></span><span class=line><span class=cl>preferences: <span class=o>{}</span>
</span></span><span class=line><span class=cl>users:
</span></span><span class=line><span class=cl>- name: charlie
</span></span><span class=line><span class=cl>  user:
</span></span><span class=line><span class=cl>    token: REDACTED
</span></span></code></pre></div><p>We will list Pods from all namespaces with the kubectl tool. (Or) If you want to use the dashboard, go to the Kubernetes dashboard UI &ndash;> Pods &ndash;> Select <em>All namespaces</em></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ kubectl get pods --all-namespaces
</span></span></code></pre></div><p>Output:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>NAMESPACE           NAME                                                              READY   STATUS                  RESTARTS        AGE
</span></span><span class=line><span class=cl>kube-system         svclb-loki-stack-fccf98b8-g596j                                   1/1     Running                 <span class=m>1</span> <span class=o>(</span>15d ago<span class=o>)</span>     24d
</span></span><span class=line><span class=cl>kube-system         svclb-coredns-infra-9b5a1b8e-t7zvr                                2/2     Running                 <span class=m>2</span> <span class=o>(</span>15d ago<span class=o>)</span>     141d
</span></span><span class=line><span class=cl>kube-system         svclb-chatwoot-6f5e1870-qs8nt                                     1/1     Running                 <span class=m>1</span> <span class=o>(</span>15d ago<span class=o>)</span>     173d
</span></span><span class=line><span class=cl>kube-system         svclb-ingress-nginx-controller-9eb0868a-76x45                     5/5     Running                 <span class=m>5</span> <span class=o>(</span>15d ago<span class=o>)</span>     48d
</span></span><span class=line><span class=cl>kube-system         svclb-coredns-infra-9b5a1b8e-jllth                                2/2     Running                 <span class=m>2</span> <span class=o>(</span>15d ago<span class=o>)</span>     67d
</span></span><span class=line><span class=cl>kube-system         svclb-ingress-nginx-controller-9eb0868a-gnfzp                     5/5     Running                 <span class=m>5</span> <span class=o>(</span>15d ago<span class=o>)</span>     48d
</span></span><span class=line><span class=cl>dev                 chatwoot-client-7c5464856d-p2xdd                                  1/1     Running                 <span class=m>1</span> <span class=o>(</span>15d ago<span class=o>)</span>     67d
</span></span><span class=line><span class=cl>kube-system         svclb-chatwoot-6f5e1870-c2sfg                                     1/1     Running                 <span class=m>1</span> <span class=o>(</span>15d ago<span class=o>)</span>     67d
</span></span><span class=line><span class=cl>kube-system         svclb-loki-stack-fccf98b8-8kdgf                                   1/1     Running                 <span class=m>1</span> <span class=o>(</span>15d ago<span class=o>)</span>     24d
</span></span><span class=line><span class=cl>kube-system         svclb-kafka-infra-controller-0-external-8796a87b-rq7d8            1/1     Running                 <span class=m>1</span> <span class=o>(</span>15d ago<span class=o>)</span>     67d
</span></span><span class=line><span class=cl>monitoring-system   kube-prometheus-stack-prometheus-node-exporter-zrlnh              1/1     Running                 <span class=m>2</span> <span class=o>(</span>15d ago<span class=o>)</span>     67d
</span></span><span class=line><span class=cl>openebs             openebs-ndm-operator-7ddccf59c4-64664                             1/1     Running                 <span class=m>1</span> <span class=o>(</span>15d ago<span class=o>)</span>     56d
</span></span><span class=line><span class=cl>monitoring-system   kube-prometheus-stack-prometheus-node-exporter-rx4cp              1/1     Running                 <span class=m>9</span> <span class=o>(</span>15d ago<span class=o>)</span>     471d
</span></span><span class=line><span class=cl>argocd              argocd-notifications-controller-f95dc686f-tprcj                   1/1     Running                 <span class=m>1</span> <span class=o>(</span>15d ago<span class=o>)</span>     56d
</span></span><span class=line><span class=cl>argocd              argocd-dex-server-9595746ff-h7rcp                                 1/1     Running                 <span class=m>1</span> <span class=o>(</span>15d ago<span class=o>)</span>     56d
</span></span><span class=line><span class=cl>kube-system         svclb-loki-stack-fccf98b8-nz6hb                                   1/1     Running                 <span class=m>1</span> <span class=o>(</span>15d ago<span class=o>)</span>     24d
</span></span><span class=line><span class=cl>loki-stack          loki-stack-promtail-sf52l                                         1/1     Running                 <span class=m>1</span> <span class=o>(</span>15d ago<span class=o>)</span>     67d
</span></span><span class=line><span class=cl>kube-system         svclb-kafka-infra-controller-0-external-8796a87b-wdbrh            1/1     Running                 <span class=m>2</span> <span class=o>(</span>15d ago<span class=o>)</span>     173d
</span></span><span class=line><span class=cl>openebs             openebs-localpv-provisioner-686b564b5d-7llqf                      1/1     Running                 <span class=m>1</span> <span class=o>(</span>15d ago<span class=o>)</span>     56d
</span></span></code></pre></div><p>You can also list any other Kubernetes resources like <em>Deployments</em>, <em>DemonSets</em>, <em>StatefulSets</em>, <em>ConfigMaps</em>, <em>Services</em>, <em>Ingresses</em>, and so on. And note that we have also allowed to view Pods logs.</p><h3 id=deleting-or-restarting-pods class="relative group">Deleting or Restarting Pods <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#deleting-or-restarting-pods aria-label=Anchor>#</a></span></h3><p>We will also test deleting or restarting the Pod resources with the kubectl client tool.
(Or)
If you want to use the dashboard, go to the Kubernetes dashboard UI &ndash;> Pods &ndash;> Select Namespace &ndash;> Click any Pod &ndash;> Delete resource</p><p>For example,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ kubectl delete pod kube-prometheus-stack-prometheus-node-exporter-qt44p --namespace monitoring-system
</span></span></code></pre></div><p>Output:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>Error from server <span class=o>(</span>Forbidden<span class=o>)</span>: pods <span class=s2>&#34;kube-prometheus-stack-prometheus-node-exporter-qt44p&#34;</span> is forbidden: User <span class=s2>&#34;system:serviceaccount:kube-system:charlie&#34;</span> cannot delete resource <span class=s2>&#34;pods&#34;</span> in API group <span class=s2>&#34;&#34;</span> in the namespace <span class=s2>&#34;monitoring-system&#34;</span>
</span></span></code></pre></div><p>You cannot delete or restart Pods because we are ONLY allowed to <em>get</em>, <em>list</em> and <em>watch</em> the API resources such as Pods, ConfigmMaps, Services, and so on in the default API group in the <em>engineer</em> ClusterRole that binds to the <em>charlie</em> user also known as service account.</p><h3 id=listing-and-viewing-secrets class="relative group">Listing and Viewing Secrets <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#listing-and-viewing-secrets aria-label=Anchor>#</a></span></h3><p>We will also test listing or viewing the Secret resources with the kubectl client tool.
(Or)
If you want to use the dashboard, go to the Kubernetes dashboard UI &ndash;> Secrets &ndash;> Select any namespace</p><p>For example,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ kubectl get secrets --all-namespaces
</span></span></code></pre></div><p>Output:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>Error from server <span class=o>(</span>Forbidden<span class=o>)</span>: secrets is forbidden: User <span class=s2>&#34;system:serviceaccount:kube-system:charlie&#34;</span> cannot list resource <span class=s2>&#34;secrets&#34;</span> in API group <span class=s2>&#34;&#34;</span> at the cluster scope
</span></span></code></pre></div><p>You cannot also list or view the Secret resources because we have not allowed to <em>list</em> the Secret resources in the default API group in the <em>engineer</em> ClusterRole that binds to the <em>charlie</em> user also known as service account. So, Charlie cannot list the Secret resources.</p><p>Finally, we can confirm that the <em>charlie</em> ServiceAccount with ClusterRole and Role Bindings configuration are working properly.</p></div></section><footer class="max-w-prose pt-8 print:hidden"><div class=flex><picture class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full"><img width=533 height=533 class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full" alt="Zaw Zaw" loading=lazy decoding=async src=/img/author-profile.jpeg></picture><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">Zaw Zaw</div><div class="text-sm text-neutral-700 dark:text-neutral-400">An SRE/platform engineerloves writing and photography.</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=mailto:zawzthein@outlook.com target=_blank aria-label=Email rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1-27.64 140.9 68.65 266.2 199.1 285.1 19.01 2.888 36.17-12.26 36.17-31.49l1e-4-.6631c0-15.74-11.44-28.88-26.84-31.24-84.35-12.98-149.2-86.13-149.2-174.2.0-102.9 88.61-185.5 193.4-175.4 91.54 8.869 158.6 91.25 158.6 183.2v16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98.0036c-7.299.0-13.2 4.992-15.12 11.68-24.85-12.15-54.24-16.38-86.06-5.106-38.75 13.73-68.12 48.91-73.72 89.64-9.483 69.01 43.81 128 110.9 128 26.44.0 50.43-9.544 69.59-24.88 24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3c0-149.2-133.9-265.632-287.3-235.57zM239.1 304.3c-26.47.0-48-21.56-48-48.05s21.53-48.05 48-48.05 48 21.56 48 48.05-20.6 48.05-48 48.05z"/></svg>
</span></a><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://newsletter.zawzaw.blog target=_blank aria-label=Rss rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 64C0 46.3 14.3 32 32 32c229.8.0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7.0 64zM0 416a64 64 0 11128 0A64 64 0 110 416zM32 160c159.1.0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7.0-32-14.3-32-32s14.3-32 32-32z"/></svg>
</span></a><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://github.com/thezawzaw target=_blank aria-label=Github rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></a><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://www.linkedin.com/in/thezawzaw target=_blank aria-label=Linkedin rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></a><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://www.instagram.com/thezawzaw target=_blank aria-label=Instagram rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M224.1 141c-63.6.0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1.0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9.0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9.0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9.0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9.0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8.0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg></span></a></div></div></div></div><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="group flex" href=/blog/build-android-kernel/><span class="me-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&larr;</span><span class="ltr:hidden rtl:inline">&rarr;</span></span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Building Kernel For Android Devices</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2018-03-09 00:00:00 +0000 UTC">9 March 2018</time>
</span></span></a></span><span><a class="group flex text-right" href=/blog/guide-k8s-persistent-storage/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">A Hands-on Practical Guide to K8s Persistent Storage</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2025-01-31 00:00:00 +0000 UTC">31 January 2025</time>
</span></span><span class="ms-2 text-neutral-700 transition-transform group-hover:-translate-x-[-2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&rarr;</span><span class="ltr:hidden rtl:inline">&larr;</span></span></a></span></div></div></footer></article></main><div class="pointer-events-none absolute bottom-0 end-0 top-[100vh] w-12" id=to-top hidden=true><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div><footer class="py-10 print:hidden"><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400"> 2026 ZawZaw.blog</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://github.com/jpanther/congo target=_blank rel="noopener noreferrer">Congo</a></p></div><div class="flex flex-row items-center"><div class="me-14 cursor-pointer text-sm text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"><button id=appearance-switcher-0 type=button aria-label="appearance switcher"><div class="flex h-12 w-12 items-center justify-center dark:hidden" title="Switch to dark appearance"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="hidden h-12 w-12 items-center justify-center dark:flex" title="Switch to light appearance"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></div></div></footer><div id=search-wrapper class="invisible fixed inset-0 z-50 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]" data-url=/><div id=search-modal class="top-20 mx-auto flex min-h-0 w-full max-w-3xl flex-col rounded-md border border-neutral-200 bg-neutral shadow-lg dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex flex-none items-center justify-between px-2"><form class="flex min-w-0 flex-auto items-center"><div class="flex h-8 w-8 items-center justify-center text-neutral-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="mx-1 flex h-12 flex-auto appearance-none bg-transparent focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex h-8 w-8 items-center justify-center text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto overflow-auto px-2"><ul id=search-results></ul></section></div></div></div></body></html>